<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Latest Designs – EGYGRILLZ | Premium Custom Grillz</title>
  <meta name="description" content="Discover the latest custom grillz designs from EGYGRILLZ Egypt – handcrafted luxury dental jewelry in gold, diamonds, and unique styles.">
  
  <meta property="og:title" content="Latest Designs – EGYGRILLZ">
  <meta property="og:description" content="Explore our newest exclusive grillz creations. Handcrafted in Egypt with premium materials.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://egygrillz.com/latest-designs.html">

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Arimo:wght@400;700&family=Alex+Brush&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { 
      font-family: 'Arimo', sans-serif; 
      background:#fff; 
      color:#000; 
      line-height:1.6; 
      -webkit-font-smoothing: antialiased; 
    }
    body.menu-open { overflow: hidden; }

    header {
      position: sticky; top: 0; height: 60px; 
      background: #fff; border-bottom: 1px solid #eee; 
      z-index: 1000;
      display: flex; align-items: center; justify-content: space-between; 
      padding: 0 5%;
    }
    .logo-text { 
      font-family: 'Playfair Display', serif; 
      font-size: 22px; font-weight: 700; 
      letter-spacing: 2px; text-decoration: none; color: #000; 
    }
    
    .main-nav { display: flex; gap: 20px; }
    .main-nav a { 
      text-decoration: none; color: #000; 
      font-size: 11px; text-transform: uppercase; 
      letter-spacing: 1px; transition: color 0.3s; 
    }
    .main-nav a:hover { color: #666; }
    .nav-active { font-weight: 900; border-bottom: 1px solid #000; }
    
    .menu-toggle { 
      display: none; flex-direction: column; gap: 6px; 
      background: none; border: none; cursor: pointer; 
    }
    .menu-toggle span { width: 25px; height: 1.5px; background: #000; }

    .container { max-width:1400px; margin: 0 auto; padding: 40px 5% 100px; }
    h1 { 
      font-family:'Playfair Display',serif; 
      font-size: clamp(32px, 8vw, 56px); 
      font-weight:400; letter-spacing:3px; 
      margin-bottom:50px; text-align:center; 
      text-transform: uppercase; 
    }

    .loading-state, .error-state {
      text-align: center;
      padding: 80px 20px;
      font-size: 1.1rem;
      color: #555;
    }
    .error-state { color: #c0392b; }

    /* --- OPTIMIZED GRABBING EFFECTS --- */
    .design-block { 
      margin-bottom: 110px; 
      border-bottom: 1px solid #eee; 
      padding-bottom: 80px; 
      opacity: 0; 
      transform: translateY(40px);
      transition: opacity 1s cubic-bezier(0.2, 0, 0.2, 1), 
                  transform 1s cubic-bezier(0.2, 0, 0.2, 1);
      will-change: transform, opacity;
    }
    .design-block.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .design-header { margin-bottom: 28px; }
    .design-title { 
      font-family: 'Playfair Display', serif; 
      font-size: clamp(26px, 5vw, 40px); 
      font-weight: 700; 
      text-transform: uppercase; 
      letter-spacing: 3px; 
      margin-bottom: 5px;
    }
    .design-price { 
      font-size: 18px; font-weight: 700; 
      color: #666; display: block;
      letter-spacing: 1px;
    }

    .design-images { 
      display: grid; 
      grid-template-columns: repeat(3, 1fr); 
      gap: 12px; 
      margin: 28px 0 40px; 
    }
    .video-wrapper, .design-images img { 
      width: 100%; 
      aspect-ratio: 4 / 5; 
      background: #f8f8f8; 
      border-radius: 4px; 
      overflow: hidden; 
      transition: transform 0.4s ease;
    }
    .video-wrapper:hover, .design-images img:hover {
      transform: scale(1.015);
    }

    .video-wrapper video, .design-images img { 
      width: 100%; height: 100%; 
      object-fit: cover; display: block; 
    }

    .mute-overlay {
      position: absolute; bottom: 14px; right: 14px;
      background: rgba(0,0,0,0.55);
      color: white; width: 38px; height: 38px;
      border-radius: 50%; display: flex; 
      align-items: center; justify-content: center;
      font-size: 16px; cursor: pointer; 
      transition: all 0.2s;
      z-index: 10;
    }
    .mute-overlay:hover { background: rgba(0,0,0,0.85); transform: scale(1.1); }

    .design-desc { 
      font-size: 16px; color: #333; 
      line-height: 1.8; max-width: 860px; 
      text-align: left; 
      border-left: 2px solid #000;
      padding-left: 20px;
    }

    @media (max-width: 980px) {
      .menu-toggle { display: flex; }
      .main-nav {
        position: fixed; top: 60px; right: -100%;
        width: 100%; height: auto; background: #fff;
        flex-direction: column; padding: 20px 5%;
        transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 8px 25px rgba(0,0,0,0.08);
      }
      .main-nav.active { right: 0; }
      .main-nav a { font-size: 13px; padding: 14px 0; border-bottom: 1px solid #f0f0f0; }
    }

    @media (max-width: 768px) { 
      .design-images { grid-template-columns: repeat(2, 1fr); gap: 10px; } 
    }
    @media (max-width: 480px) { 
      .design-images { grid-template-columns: 1fr; } 
    }

    footer { 
      background: #000; color: #fff; 
      padding: 60px 5% 30px; margin-top: 60px; 
    }
    .footer-main { 
      display: grid; grid-template-columns: 1.5fr 1fr 1fr; 
      gap: 50px; padding-bottom: 50px; 
      border-bottom: 1px solid #222; 
    }
    .footer-col h4 { 
      font-size: 11px; text-transform: uppercase; 
      letter-spacing: 2px; margin-bottom: 24px; 
      color: #aaa; 
    }
    .footer-col a { 
      display: block; color: #fff; 
      text-decoration: none; font-size: 13px; 
      margin-bottom: 10px; transition: 0.25s; 
    }
    .footer-col a:hover { color: #bbb; }

    .footer-bottom { 
      padding-top: 30px; 
      display: flex; justify-content: space-between; 
      align-items: center; flex-wrap: wrap; gap: 25px; 
      font-size: 13px; 
    }
    .footer-logo-img { height: 12px; filter: brightness(0) invert(1); }
    .ceo-wrap { display: flex; align-items: center; gap: 10px; }
    .ceo-label { font-size: 8px; color: #777; text-transform: uppercase; letter-spacing: 1.2px; }
    .ceo-name { font-family: 'Alex Brush'; font-size: 15px; color: #aaa; }
  </style>
</head>
<body oncontextmenu="return false;">

  <header>
    <a href="home.html" class="logo-text">EGYGRILLZ</a>
    <button class="menu-toggle" aria-label="Toggle navigation menu">
      <span></span><span></span><span></span>
    </button>
    <nav class="main-nav" aria-label="Main navigation">
      <a href="home.html">Home</a>
      <a href="latest-designs.html" class="nav-active">Latest</a>
      <a href="booking.html">Schedule</a>
      <a href="grillz-gallery.html">Gallery</a>
      <a href="golds.html">Golds</a>
      <a href="diamonds.html">Diamonds</a>
      <a href="silvers.html">Silvers</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <div class="container">
    <h1>Latest Designs</h1>
    
    <div id="loading-state" class="loading-state">
      <i class="fas fa-circle-notch fa-spin" style="font-size:2rem; margin-bottom:16px; color:#888;"></i><br>
      Loading latest creations...
    </div>
    
    <div id="designs-container" style="display:none;"></div>
    
    <div id="error-state" class="error-state" style="display:none;">
      Sorry, we couldn't load the latest designs right now.<br>
      Please try again later or contact us directly.
    </div>
  </div>

  <footer>
    <div class="footer-main">
      <div class="footer-col">
        <h4>EGYGRILLZ Egypt</h4>
        <p style="font-size: 14px; color: #aaa; max-width: 320px; line-height:1.5;">
          Handcrafting Egypt's most exclusive dental jewelry.
        </p>
      </div>
      <div class="footer-col">
        <h4>Information</h4>
        <a href="about.html">About Us</a>
        <a href="contact.html">Contact</a>
      </div>
      <div class="footer-col">
        <h4>Legal</h4>
        <a href="privacy.html">Privacy Policy</a>
        <a href="terms.html">Terms</a>
      </div>
    </div>

    <div class="footer-bottom">
      <div>
        <a href="https://instagram.com/egygrillz" target="_blank" aria-label="Instagram" style="color:#fff; font-size:1.6rem;">
          <i class="fab fa-instagram"></i>
        </a>
      </div>
      <img src="logo/logo_white.png" class="footer-logo-img" alt="EGYGRILLZ logo">
      <div class="ceo-wrap">
        <span class="ceo-label">Founder</span>
        <span class="ceo-name">DR Mohamed Mahdy</span>
      </div>
      <div>© 2026 EGYGRILLZ</div>
    </div>
  </footer>

  <script>
    // Mobile menu toggle
    document.querySelector('.menu-toggle').addEventListener('click', () => {
      document.querySelector('.main-nav').classList.toggle('active');
      document.body.classList.toggle('menu-open');
    });

    // Intersection Observer for Scroll Effects and Performance
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        // Trigger Animation
        if (entry.target.classList.contains('design-block') && entry.isIntersecting) {
          entry.target.classList.add('visible');
        }

        // Handle Video Playback (Optimized for 20+ designs)
        if (entry.target.tagName === 'VIDEO') {
          if (entry.isIntersecting) {
            if (entry.target.dataset.src && !entry.target.src) {
              entry.target.src = entry.target.dataset.src;
              entry.target.load();
            }
            entry.target.play().catch(() => {});
          } else {
            entry.target.pause();
          }
        }
      });
    }, { threshold: 0.1, rootMargin: "0px 0px -50px 0px" });

    function toggleMute(wrapper) {
      const video = wrapper.querySelector('video');
      const icon = wrapper.querySelector('.mute-overlay i');
      if (!video || !icon) return;
      video.muted = !video.muted;
      icon.className = video.muted ? 'fas fa-volume-mute' : 'fas fa-volume-up';
    }

    // Load All Designs from JSON
    const container = document.getElementById('designs-container');
    const loadingState = document.getElementById('loading-state');
    const errorState = document.getElementById('error-state');

    fetch('assets/images/latest-designs/designs.json')
      .then(res => res.json())
      .then(async (designNames) => {
        if (!Array.isArray(designNames) || designNames.length === 0) throw new Error('Empty');

        loadingState.style.display = 'none';
        container.style.display = 'block';

        // Process every folder listed in JSON
        for (const designName of designNames) {
          try {
            const infoRes = await fetch(`assets/images/latest-designs/${designName}/info.txt`);
            if (!infoRes.ok) continue;

            const text = await infoRes.text();
            const lines = text.split('\n').map(l => l.trim()).filter(Boolean);
            
            let title = designName, price = '', desc = '', imagesLine = '';
            lines.forEach(line => {
              const lower = line.toLowerCase();
              if (lower.startsWith('name:')) title = line.replace(/name:/i, '').trim();
              if (lower.startsWith('price:')) price = line.replace(/price:/i, '').trim();
              if (lower.startsWith('description:')) desc = line.replace(/description:/i, '').trim();
              if (lower.startsWith('images:')) imagesLine = line.replace(/images:/i, '').trim();
            });

            const mediaList = imagesLine ? imagesLine.split(',').map(f => f.trim()) : [];
            const designBlock = document.createElement('div');
            designBlock.className = 'design-block';

            let mediaHtml = '';
            mediaList.forEach(file => {
              const filePath = `assets/images/latest-designs/${designName}/${file}`;
              if (file.toLowerCase().endsWith('.mp4')) {
                mediaHtml += `
                  <div class="video-wrapper" role="button" tabindex="0" onclick="toggleMute(this)">
                    <video data-src="${filePath}" loop playsinline preload="none" muted></video>
                    <div class="mute-overlay"><i class="fas fa-volume-mute"></i></div>
                  </div>`;
              } else {
                mediaHtml += `<img src="${filePath}" alt="${title}" loading="lazy">`;
              }
            });

            designBlock.innerHTML = `
              <div class="design-header">
                <h2 class="design-title">${title}</h2>
                ${price ? `<span class="design-price">${price}</span>` : ''}
              </div>
              <div class="design-images">${mediaHtml}</div>
              ${desc ? `<div class="design-desc">${desc}</div>` : ''}
            `;

            container.appendChild(designBlock);
            
            // Apply observer for animations and lazy-video logic
            revealObserver.observe(designBlock);
            designBlock.querySelectorAll('video').forEach(v => revealObserver.observe(v));

          } catch (e) { console.warn("Design failed to load:", designName); }
        }
      })
      .catch(err => {
        loadingState.style.display = 'none';
        errorState.style.display = 'block';
      });
  </script>
</body>
</html>
